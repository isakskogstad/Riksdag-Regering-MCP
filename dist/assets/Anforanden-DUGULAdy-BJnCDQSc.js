import{L as e,v as a,f as s,$ as r,U as t,Z as n,n as l,K as i,Y as d,T as m,e as c,Q as o}from"./index-Dvj5Fnvj.js";import{k as x,P as f}from"./avatar-PApL8q4f-CsyQ2EiW.js";import{c as g}from"./EmptyState-J9hu3_4Q-rxQZmsJH.js";import{c as h}from"./user-Dx5qHqNd-C9eItTad.js";import{t as j}from"./calendar-C0Po1oJA-ZB5SqKl4.js";import"./alert-BBRM3LDk-C87cXJBj.js";import"./supabase-vendor-CFP917pd.js";const p=()=>{const{data:p,isLoading:u}=e({queryKey:["anforanden"],queryFn:async()=>{const{data:e,error:a}=await o.from("riksdagen_anforanden").select("*").order("anfdatum",{ascending:!1});if(a)throw a;return e}}),b={S:"bg-red-600",M:"bg-blue-600",SD:"bg-yellow-600",C:"bg-green-600",V:"bg-red-700",KD:"bg-blue-800",L:"bg-blue-400",MP:"bg-green-500"};return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx("div",{className:"w-full bg-primary py-1"}),a.jsxs("div",{className:"container mx-auto px-4 py-12 max-w-7xl",children:[a.jsxs("header",{className:"mb-12",children:[a.jsx(s,{to:"/riksdagen",className:"text-primary hover:underline mb-4 inline-block",children:"← Tillbaka till Riksdagen"}),a.jsx("h1",{className:"text-4xl font-serif font-bold text-foreground mb-4",children:"Anföranden"}),a.jsx("div",{className:"w-20 h-1 bg-secondary mb-6"}),a.jsx("p",{className:"text-muted-foreground",children:"Senaste anförandena från riksdagens debatter"})]}),u?a.jsx("div",{className:"space-y-4",children:[...Array(10)].map((e,s)=>a.jsx(r,{children:a.jsxs(t,{children:[a.jsx(n,{className:"h-6 w-3/4 mb-2"}),a.jsx(n,{className:"h-20 w-full"})]})},s))}):p&&0===p.length?a.jsx(g,{message:"Inga anföranden hittades",suggestion:"Anförande-API:et från Riksdagen är för tillfället inte tillgängligt. Prova att hämta data för dokument, ledamöter och voteringar istället."}):a.jsx("div",{className:"space-y-4",children:null==p?void 0:p.map(e=>{var s;return a.jsx(r,{className:"hover:shadow-lg transition-shadow",children:a.jsx(t,{children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx(x,{className:"h-12 w-12",children:a.jsx(f,{className:e.parti?b[e.parti]:"bg-gray-600",children:(null==(s=e.talare)?void 0:s[0])||a.jsx(h,{className:"h-6 w-6"})})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[e.talare&&a.jsx("span",{className:"font-semibold text-foreground",children:e.talare}),e.parti&&a.jsx(l,{className:`${b[e.parti]||"bg-gray-600"} text-white`,children:e.parti})]}),e.debattnamn&&a.jsx(i,{className:"text-lg mb-3",children:e.debattnamn}),e.avsnittsrubrik&&a.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:e.avsnittsrubrik}),e.anftext&&a.jsx(d,{className:"p-0",children:a.jsx("p",{className:"text-sm line-clamp-3 text-muted-foreground",children:e.anftext})}),a.jsx("div",{className:"flex items-center gap-4 mt-3 text-xs text-muted-foreground",children:e.anfdatum&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(j,{className:"h-3 w-3"}),m(new Date(e.anfdatum),{addSuffix:!0,locale:c})]})})]})]})})},e.id)})})]})]})};export{p as default};
