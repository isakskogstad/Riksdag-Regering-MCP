import{j as e}from"./ui-vendor-DdA1a0jp.js";import{u as a}from"./query-vendor-ow7rXqf0.js";import{C as s,a as r,S as t,B as n,b as l,f as i,h as d,s as m,i as c}from"./index-DLYd5yL7.js";import{L as o}from"./react-vendor-DwCPvY97.js";import{A as x,b as f}from"./avatar-PApL8q4f.js";import{E as g}from"./EmptyState-J9hu3_4Q.js";import{U as h}from"./user-Dx5qHqNd.js";import{C as j}from"./calendar-C0Po1oJA.js";import"./supabase-vendor-DZwaFCMP.js";import"./alert-BBRM3LDk.js";const p=()=>{const{data:p,isLoading:u}=a({queryKey:["anforanden"],queryFn:async()=>{const{data:e,error:a}=await m.from("riksdagen_anforanden").select("*").order("anfdatum",{ascending:!1});if(a)throw a;return e}}),b={S:"bg-red-600",M:"bg-blue-600",SD:"bg-yellow-600",C:"bg-green-600",V:"bg-red-700",KD:"bg-blue-800",L:"bg-blue-400",MP:"bg-green-500"};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("div",{className:"w-full bg-primary py-1"}),e.jsxs("div",{className:"container mx-auto px-4 py-12 max-w-7xl",children:[e.jsxs("header",{className:"mb-12",children:[e.jsx(o,{to:"/riksdagen",className:"text-primary hover:underline mb-4 inline-block",children:"← Tillbaka till Riksdagen"}),e.jsx("h1",{className:"text-4xl font-serif font-bold text-foreground mb-4",children:"Anföranden"}),e.jsx("div",{className:"w-20 h-1 bg-secondary mb-6"}),e.jsx("p",{className:"text-muted-foreground",children:"Senaste anförandena från riksdagens debatter"})]}),u?e.jsx("div",{className:"space-y-4",children:[...Array(10)].map((a,n)=>e.jsx(s,{children:e.jsxs(r,{children:[e.jsx(t,{className:"h-6 w-3/4 mb-2"}),e.jsx(t,{className:"h-20 w-full"})]})},n))}):p&&0===p.length?e.jsx(g,{message:"Inga anföranden hittades",suggestion:"Anförande-API:et från Riksdagen är för tillfället inte tillgängligt. Prova att hämta data för dokument, ledamöter och voteringar istället."}):e.jsx("div",{className:"space-y-4",children:null==p?void 0:p.map(a=>{var t;return e.jsx(s,{className:"hover:shadow-lg transition-shadow",children:e.jsx(r,{children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx(x,{className:"h-12 w-12",children:e.jsx(f,{className:a.parti?b[a.parti]:"bg-gray-600",children:(null==(t=a.talare)?void 0:t[0])||e.jsx(h,{className:"h-6 w-6"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[a.talare&&e.jsx("span",{className:"font-semibold text-foreground",children:a.talare}),a.parti&&e.jsx(n,{className:`${b[a.parti]||"bg-gray-600"} text-white`,children:a.parti})]}),a.debattnamn&&e.jsx(l,{className:"text-lg mb-3",children:a.debattnamn}),a.avsnittsrubrik&&e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:a.avsnittsrubrik}),a.anftext&&e.jsx(i,{className:"p-0",children:e.jsx("p",{className:"text-sm line-clamp-3 text-muted-foreground",children:a.anftext})}),e.jsx("div",{className:"flex items-center gap-4 mt-3 text-xs text-muted-foreground",children:a.anfdatum&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(j,{className:"h-3 w-3"}),d(new Date(a.anfdatum),{addSuffix:!0,locale:c})]})})]})]})})},a.id)})})]})]})};export{p as default};
