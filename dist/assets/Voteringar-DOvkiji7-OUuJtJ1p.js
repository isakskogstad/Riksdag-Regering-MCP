import{L as e,v as s,f as a,$ as n,U as r,Z as t,n as i,K as l,T as d,e as c,Q as m}from"./index-Dvj5Fnvj.js";import{c as o}from"./EmptyState-J9hu3_4Q-rxQZmsJH.js";import{e as x}from"./circle-check-CUplomgl-6Jpy2TL_.js";import{t as g}from"./calendar-C0Po1oJA-ZB5SqKl4.js";import"./alert-BBRM3LDk-C87cXJBj.js";import"./supabase-vendor-CFP917pd.js";const h=()=>{const{data:h,isLoading:j}=e({queryKey:["voteringar"],queryFn:async()=>{const{data:e,error:s}=await m.from("riksdagen_voteringar").select("*").order("votering_datum",{ascending:!1});if(s)throw s;return e}});return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("div",{className:"w-full bg-primary py-1"}),s.jsxs("div",{className:"container mx-auto px-4 py-12 max-w-7xl",children:[s.jsxs("header",{className:"mb-12",children:[s.jsx(a,{to:"/riksdagen",className:"text-primary hover:underline mb-4 inline-block",children:"← Tillbaka till Riksdagen"}),s.jsx("h1",{className:"text-4xl font-serif font-bold text-foreground mb-4",children:"Voteringar"}),s.jsx("div",{className:"w-20 h-1 bg-secondary mb-6"}),s.jsx("p",{className:"text-muted-foreground",children:"Senaste omröstningarna i riksdagen"})]}),j?s.jsx("div",{className:"space-y-4",children:[...Array(10)].map((e,a)=>s.jsx(n,{children:s.jsxs(r,{children:[s.jsx(t,{className:"h-6 w-3/4 mb-2"}),s.jsx(t,{className:"h-4 w-1/2"})]})},a))}):h&&0===h.length?s.jsx(o,{message:"Inga voteringar hittades",suggestion:"Använd 'Hämta data'-knappen på Riksdagen-sidan för att ladda ned voteringar från Riksdagens API"}):s.jsx("div",{className:"space-y-4",children:null==h?void 0:h.map(e=>s.jsx(n,{className:"hover:shadow-lg transition-shadow",children:s.jsx(r,{children:s.jsx("div",{className:"flex items-start justify-between gap-4",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[e.beteckning&&s.jsx(i,{variant:"outline",children:e.beteckning}),e.rm&&s.jsxs(i,{variant:"secondary",children:["RM ",e.rm]}),e.punkt&&s.jsxs(i,{variant:"secondary",children:["Punkt ",e.punkt]})]}),s.jsx(l,{className:"text-xl mb-2",children:e.titel||"Votering"}),e.vinnare&&s.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[s.jsx(x,{className:"h-4 w-4 text-success"}),s.jsxs("span",{className:"text-sm font-medium text-success",children:["Resultat: ",e.vinnare]})]}),s.jsxs("div",{className:"flex items-center gap-4 mt-3 text-sm text-muted-foreground",children:[e.votering_datum&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(g,{className:"h-3 w-3"}),d(new Date(e.votering_datum),{addSuffix:!0,locale:c})]}),e.votering_typ&&s.jsxs("span",{children:["Typ: ",e.votering_typ]})]})]})})})},e.id))})]})]})};export{h as default};
