import{A as e,v as r,O as t,w as a,b as n,g as s,P as o}from"./index-Dvj5Fnvj.js";var i={exports:{}},u={},l=e,d="function"==typeof Object.is?Object.is:function(e,r){return e===r&&(0!==e||1/e==1/r)||e!=e&&r!=r},c=l.useState,f=l.useEffect,m=l.useLayoutEffect,v=l.useDebugValue;function p(e){var r=e.getSnapshot;e=e.value;try{var t=r();return!d(e,t)}catch(a){return!0}}var g="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,r){return r()}:function(e,r){var t=r(),a=c({inst:{value:t,getSnapshot:r}}),n=a[0].inst,s=a[1];return m(function(){n.value=t,n.getSnapshot=r,p(n)&&s({inst:n})},[e,t,r]),f(function(){return p(n)&&s({inst:n}),e(function(){p(n)&&s({inst:n})})},[e]),v(t),t};u.useSyncExternalStore=void 0!==l.useSyncExternalStore?l.useSyncExternalStore:g,i.exports=u;var w=i.exports;function y(){return()=>{}}var S="Avatar",[x]=a(S),[N,h]=x(S),E=e.forwardRef((t,a)=>{const{__scopeAvatar:s,...o}=t,[i,u]=e.useState("idle");return r.jsx(N,{scope:s,imageLoadingStatus:i,onImageLoadingStatusChange:u,children:r.jsx(n.span,{...o,ref:a})})});E.displayName=S;var j="AvatarImage",L=e.forwardRef((t,a)=>{const{__scopeAvatar:i,src:u,onLoadingStatusChange:l=()=>{},...d}=t,c=h(j,i),f=function(r,{referrerPolicy:t,crossOrigin:a}){const n=w.useSyncExternalStore(y,()=>!0,()=>!1),o=e.useRef(null),i=n?(o.current||(o.current=new window.Image),o.current):null,[u,l]=e.useState(()=>b(i,r));return s(()=>{l(b(i,r))},[i,r]),s(()=>{const e=e=>()=>{l(e)};if(!i)return;const r=e("loaded"),n=e("error");return i.addEventListener("load",r),i.addEventListener("error",n),t&&(i.referrerPolicy=t),"string"==typeof a&&(i.crossOrigin=a),()=>{i.removeEventListener("load",r),i.removeEventListener("error",n)}},[i,a,t]),u}(u,d),m=o(e=>{l(e),c.onImageLoadingStatusChange(e)});return s(()=>{"idle"!==f&&m(f)},[f,m]),"loaded"===f?r.jsx(n.img,{...d,ref:a,src:u}):null});L.displayName=j;var A="AvatarFallback",R=e.forwardRef((t,a)=>{const{__scopeAvatar:s,delayMs:o,...i}=t,u=h(A,s),[l,d]=e.useState(void 0===o);return e.useEffect(()=>{if(void 0!==o){const e=window.setTimeout(()=>d(!0),o);return()=>window.clearTimeout(e)}},[o]),l&&"loaded"!==u.imageLoadingStatus?r.jsx(n.span,{...i,ref:a}):null});function b(e,r){return e?r?(e.src!==r&&(e.src=r),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}R.displayName=A;var _=E,O=L,I=R;const C=e.forwardRef(({className:e,...a},n)=>r.jsx(_,{ref:n,className:t("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...a}));C.displayName=_.displayName;const P=e.forwardRef(({className:e,...a},n)=>r.jsx(O,{ref:n,className:t("aspect-square h-full w-full",e),...a}));P.displayName=O.displayName;const k=e.forwardRef(({className:e,...a},n)=>r.jsx(I,{ref:n,className:t("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...a}));k.displayName=I.displayName;export{P as C,k as P,C as k};
