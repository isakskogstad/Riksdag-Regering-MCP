import{j as s}from"./ui-vendor-DdA1a0jp.js";import{u as e}from"./query-vendor-ow7rXqf0.js";import{C as a,a as r,S as n,B as t,b as i,h as d,s as l,i as c}from"./index-DLYd5yL7.js";import{L as m}from"./react-vendor-DwCPvY97.js";import{E as o}from"./EmptyState-J9hu3_4Q.js";import{C as x}from"./circle-check-CUplomgl.js";import{C as j}from"./calendar-C0Po1oJA.js";import"./supabase-vendor-DZwaFCMP.js";import"./alert-BBRM3LDk.js";const h=()=>{const{data:h,isLoading:g}=e({queryKey:["voteringar"],queryFn:async()=>{const{data:s,error:e}=await l.from("riksdagen_voteringar").select("*").order("votering_datum",{ascending:!1});if(e)throw e;return s}});return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("div",{className:"w-full bg-primary py-1"}),s.jsxs("div",{className:"container mx-auto px-4 py-12 max-w-7xl",children:[s.jsxs("header",{className:"mb-12",children:[s.jsx(m,{to:"/riksdagen",className:"text-primary hover:underline mb-4 inline-block",children:"← Tillbaka till Riksdagen"}),s.jsx("h1",{className:"text-4xl font-serif font-bold text-foreground mb-4",children:"Voteringar"}),s.jsx("div",{className:"w-20 h-1 bg-secondary mb-6"}),s.jsx("p",{className:"text-muted-foreground",children:"Senaste omröstningarna i riksdagen"})]}),g?s.jsx("div",{className:"space-y-4",children:[...Array(10)].map((e,t)=>s.jsx(a,{children:s.jsxs(r,{children:[s.jsx(n,{className:"h-6 w-3/4 mb-2"}),s.jsx(n,{className:"h-4 w-1/2"})]})},t))}):h&&0===h.length?s.jsx(o,{message:"Inga voteringar hittades",suggestion:"Använd 'Hämta data'-knappen på Riksdagen-sidan för att ladda ned voteringar från Riksdagens API"}):s.jsx("div",{className:"space-y-4",children:null==h?void 0:h.map(e=>s.jsx(a,{className:"hover:shadow-lg transition-shadow",children:s.jsx(r,{children:s.jsx("div",{className:"flex items-start justify-between gap-4",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[e.beteckning&&s.jsx(t,{variant:"outline",children:e.beteckning}),e.rm&&s.jsxs(t,{variant:"secondary",children:["RM ",e.rm]}),e.punkt&&s.jsxs(t,{variant:"secondary",children:["Punkt ",e.punkt]})]}),s.jsx(i,{className:"text-xl mb-2",children:e.titel||"Votering"}),e.vinnare&&s.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[s.jsx(x,{className:"h-4 w-4 text-success"}),s.jsxs("span",{className:"text-sm font-medium text-success",children:["Resultat: ",e.vinnare]})]}),s.jsxs("div",{className:"flex items-center gap-4 mt-3 text-sm text-muted-foreground",children:[e.votering_datum&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(j,{className:"h-3 w-3"}),d(new Date(e.votering_datum),{addSuffix:!0,locale:c})]}),e.votering_typ&&s.jsxs("span",{children:["Typ: ",e.votering_typ]})]})]})})})},e.id))})]})]})};export{h as default};
